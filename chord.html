<!-- Code from d3-graph-gallery.com -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<!-- Load d3.js -->
	<script src="https://d3js.org/d3.v4.js"></script>

</head>
<body>
	<h1>Emma Stone Genre Combinations!</h1>

	<!-- Create a div where the graph will take place -->
	<div id="chord-chart"></div>
	<style>
		.group-labels
		{
			font-weight:bold;
			font-family: Bahnschrift SemiBold;

		}

	</style>
	<!-- Script to create Chord Chart -->
	<script>


	// Create the svg area.
	var svg = d3.select("#chord-chart")
	  .append("svg")
		.attr("width", 1920)
		.attr("height", 1350)
		.style("background", "#323232")
	  .append("g")
		.attr("transform", "translate(390,380)")


	var names = ["Action", "Adventure", "Animation", "Biography","Comedy", "Crime","Drama", "Family", "Fantasy", "Horror", "Music", "Romance", "Sci-Fi","Short"],
	colours = ["#2F4858", "#3C6A7A", "#A4FFDB", "#498E9A", "#00C4D7", "#005FB1", "#5DB3B5", "#00C4D7", "#5EE3D8", "#0083C8", "#CBFBE7","#8CD9FF", "#59C068","#00432A"];

	// Create input data: a square matrix with random data that provides flow between entities.
	var matrix = [[0, 5, 1, 0, 3, 3, 1, 0, 0, 1, 0, 0, 2, 0], [5, 0, 3, 0, 4, 2, 0, 0, 0, 1, 0, 0, 1, 0], [1, 3, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0], [3, 4, 2, 2, 0, 0, 11, 4, 2, 3, 5, 8, 2, 1], [3, 2, 0, 0, 0, 0, 2, 0, 1, 0, 0, 0, 0, 0], [1, 0, 0, 2, 11, 2, 0, 0, 1, 0, 1, 3, 2, 0], [0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 1, 0, 0], [0, 0, 0, 0, 2, 1, 1, 0, 0, 0, 0, 1, 0, 1], [1, 1, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 5, 0, 1, 0, 0, 0, 0, 0, 0, 2], [0, 0, 0, 0, 8, 0, 3, 1, 1, 0, 0, 0, 0, 0], [2, 1, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0, 0, 0]]

	// Give this matrix to d3.chord(): it will calculates all the info we need to draw arc and ribbon.
	var res = d3.chord()
		.padAngle(0.09)     // padding between entities (black arc)
		.sortSubgroups(d3.descending)
		(matrix)

	// Add the groups to the inner part of the circle.
	 svg
	  .datum(res)
	  .append("g")
	  .selectAll("g")
	  .data(function(d) { return d.groups; })
	  .enter()
	  .append("g")
	  .append("path")
		.style("fill", function(d){return (colours[d.index])})
		.style("stroke", "black")
		.attr("d", d3.arc()
		  .innerRadius(300)
		  .outerRadius(310)
		)
var arc = d3.arc()
  .innerRadius(300)
  .outerRadius(310)


	// Add the links between groups.

	svg
	  .datum(res)
	  .append("g")
	  .selectAll("path")
	  .data(function(d) { return d; })
	  .enter()
	  .append("path")
		.attr("d", d3.ribbon()
		  .radius(300)
		)
		.style("fill", function(d){return (colours[d.source.index])})

		.style("stroke", "black");

var groups = svg.append('g')
	.attr('class', 'groups')

var group = groups.selectAll('g')
  .data(function (chords) { return chords.groups })
  .enter()
  .append('g')
  .attr('class', 'group')

  group.append('text')
	.each(function(d) { d.angle = (d.startAngle + d.endAngle) / 2; })
  .attr("dy", ".35em")
  .attr("class", "group-labels")
  .attr("text-anchor", function(d) { return d.angle > Math.PI ? "end" : null; })
  .attr("transform", function(d) {
    return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")"
    + "translate(" + (320 + 10) + ")"
    + (d.angle > Math.PI ? "rotate(180)" : "");
 	 })
	.text(function (d) { return names[d.index] })
	.style("fill", "white")


group
  .selectAll(".group-tick-label")
  .data(function(d) { return groupTicks(d, 1); })
  .enter()
  .append("g")
    .attr("transform", function(d) { return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")" + "translate(" + (300 + 15) + ")"+ (d.angle > Math.PI ? "rotate(180)" : "");
 	 })
  .append("text")
    .attr("dy", ".35em")
    .style("text-anchor", function(d) { return d.angle > Math.PI ? "end" : null; })
    .text(function(d) { return d.value })
    .style("fill", "white")
    .style("font-size", 11)






    function groupTicks(d, step) {
  var k = (d.endAngle - d.startAngle) / d.value;
  return d3.range(0, d.value, step).map(function(value) {
    return {value: value, angle: value * k + d.startAngle};
  });
}


	</script>
</body>
</html>