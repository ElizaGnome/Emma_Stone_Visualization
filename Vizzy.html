<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src = "https://d3js.org/d3.v5.min.js"></script>
    <title> Number of Movies Released Per Year </title>
</head>
<body>

<script>
        d3.csv("Emma_Data_Genre_List.csv").then(function(MovieData){
            console.log(MovieData);
            var margin = {top:20, right:20, bottom:50, left:50};
            var spacing = "50";
            var width = "700";
            var height = "600";



            var svg = d3.select("body").append("svg")
                        .attr("width", width)
                        .attr("height", height)
                        .style("background", "lightgray")
                        .style("padding", spacing);


            var yScale = d3.scaleLinear()
                           .domain([0, 31])
                           .range([560, 0]);




            var yAxis = d3.axisLeft(yScale);
            svg.append("g")
                .attr("transform", "translate(30,15)")
                .call(yAxis)
                .style("font-size", "11px")
                .style("stroke", "black");

            svg.append("text")
                .attr("x", (width/2))
                .attr("y", 13)
                .style("font-size", "18px")
                .style("text-anchor", "middle")
                .style("stroke", "black")
                .text("Number of Films in Each Genre");


          var rectangles = svg.selectAll("rect").data(MovieData);
            rectangles.enter().append("rect")
                        .attr ("width", 46)
                        .attr ("height", function(d, i){return d.Number*18;})
                        .attr ("x", function(d, i ) {return 38 + (i * 74);})
                        .attr ("y", function(d, i ){return (height -25) - (d.Number*18);})
                        .style("fill", "indigo");

          var Movie = svg.selectAll("Movie").data(MovieData);
            Movie.enter().append("text")
                .text(function(d){return d.Movie;})
                .style("stroke", "black")
                .style("font-size", "12px")
                .style("font-type", "Times New Roman")
                .attr("x", function (d, i) {return 40 + (i* 74);})
                .attr("y", function(d, i) {return height - 5;})


           var Film = svg.selectAll("Number").data(MovieData);
            Film.enter().append("text")
                .text(function(d){return d.Number;})
                .style("stroke", "black")
                .style("font-size", "15px")
                .style("font-type", "Times New Roman")
                .attr("x", function (d, i) {return 56 + (i*74);})
                .attr("y", function(d, i) {return (height -30) - (d.Number*18);})
        })


</script>
</body>
</html>